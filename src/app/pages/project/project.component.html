<div class="container-fluid">

  <div class="card-header card-header-danger">
    <h2 class="title">{{'ProjectManagement' | translate }}</h2>

  </div>
  <form [formGroup]="form">
    <div class="row">

      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startReceiveRequest'| translate }} </mat-label>

          <input matInput [matDatepicker]="picker1" formControlName="startReceiveRequest">
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endReceiveRequest'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker2" formControlName="endReceiveRequest">
          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
      </div>

      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startEstimate'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker5" formControlName="startEstimate">
          <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
          <mat-datepicker #picker5></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endEstimate'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker6" formControlName="endEstimate">
          <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
          <mat-datepicker #picker6></mat-datepicker>
        </mat-form-field>
      </div>

    </div>
    <div class="row">

      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startRequestPurchase'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker3" formControlName="startRequestPurchase">
          <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
          <mat-datepicker #picker3></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endRequestPurchase'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker4" formControlName="endRequestPurchase">
          <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
          <mat-datepicker #picker4></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startQuotation'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker7" formControlName="startQuotation">
          <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
          <mat-datepicker #picker7></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endQuotation'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker8" formControlName="endQuotation">
          <mat-datepicker-toggle matSuffix [for]="picker8"></mat-datepicker-toggle>
          <mat-datepicker #picker8></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startSubmitBudget'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker9" formControlName="startSubmitBudget">
          <mat-datepicker-toggle matSuffix [for]="picker9"></mat-datepicker-toggle>
          <mat-datepicker #picker9></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endSubmitBudget'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker10" formControlName="endSubmitBudget">
          <mat-datepicker-toggle matSuffix [for]="picker10"></mat-datepicker-toggle>
          <mat-datepicker #picker10></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startPR'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker11" formControlName="startPR">
          <mat-datepicker-toggle matSuffix [for]="picker11"></mat-datepicker-toggle>
          <mat-datepicker #picker11></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endPR'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker12" formControlName="endPR">
          <mat-datepicker-toggle matSuffix [for]="picker12"></mat-datepicker-toggle>
          <mat-datepicker #picker12></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
    <div class="row">

      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startPO'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker15" formControlName="startPO">
          <mat-datepicker-toggle matSuffix [for]="picker15"></mat-datepicker-toggle>
          <mat-datepicker #picker15></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endPO'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker16" formControlName="endPO">
          <mat-datepicker-toggle matSuffix [for]="picker16"></mat-datepicker-toggle>
          <mat-datepicker #picker16></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'startDate'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker13" formControlName="startDate">
          <mat-datepicker-toggle matSuffix [for]="picker13"></mat-datepicker-toggle>
          <mat-datepicker #picker13></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-3">
        <mat-form-field class="full-width">
          <mat-label>{{'endDate'| translate }}</mat-label>
          <input matInput [matDatepicker]="picker14" formControlName="endDate">
          <mat-datepicker-toggle matSuffix [for]="picker14"></mat-datepicker-toggle>
          <mat-datepicker #picker14></mat-datepicker>
        </mat-form-field>
      </div>
    </div>




  <div class="row">
    <div class="col-md-3 ">
      <mat-form-field class="full-width">
        <mat-label>{{'pic' | translate}} </mat-label>
        <mat-select formControlName="user" >
          <mat-option *ngFor="let user of users" [value]="user.uid">
            {{ user.fullName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-3 ">
      <mat-form-field class="full-width">
        <input matInput type="text" formControlName="inputText" placeholder="Search ..." (input)="onSearch()" />
      </mat-form-field>
    </div>
    <!-- [(ngModel)] -->
    <div class="col-md-6">
      <div class="button-container">
        <button type="button" class="btn btn-primary" (click)="openDialog()"><mat-icon>create</mat-icon>
          {{'CREATE_PROJECT'| translate}} </button>
        <button type="button" class="btn btn-success" (click)="update()"><mat-icon>update</mat-icon>{{'UPDATE_PROJECT'|
          translate}}</button>
        <button type="button" class="btn btn-danger" (click)="clearData()"><mat-icon>clear</mat-icon> {{'CLEAR'|
          translate}}</button>
      </div>
    </div>

  </div>
</form>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource">

      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name0" > {{'STT' | translate}} </th>
        <td mat-cell *matCellDef="let element; let  i = index " [attr.data-index]>
          {{ (paginator.pageIndex * paginator.pageSize) + i + 1 }}
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="projectName">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name1" > {{'TEN_DU_AN' | translate}}</th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.projectName}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="pic">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name2" >{{'pic' | translate}}</th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.pic.fullName}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name3"> {{'LOAI_HINH_DU_AN' | translate}} </th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.category.categoryName}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name4"> {{'description' | translate}}</th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.description}} </td>
      </ng-container>
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name4"> {{'description' | translate}}</th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.startDate}} </td>
      </ng-container>
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name4"> {{'description' | translate}}</th>
        <td mat-cell *matCellDef="let element" (click)="getRecord(element)"> {{element.endDate}} </td>
      </ng-container>

      <!-- <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color"> Status</th>
        <td mat-cell *matCellDef="let element">
          <label class="switch">
            <input type="checkbox" class="checkbox" [checked]="element.completed"
              (change)="updateStatus(element, $event)" />
            <div class="slider"></div>
          </label>
        </td>
      </ng-container> -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name5"> {{'status' | translate}} </th>
        <td mat-cell *matCellDef="let element">
          <button [ngClass]="getStatusClass(element)" (click)="confirmChange(element)" class="status-btn">
            {{ getStatusText(element) }}
          </button>
        </td>
      </ng-container>

      <!-- Cá»™t Action -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name6"> {{'implements' | translate}} </th>
        <td mat-cell *matCellDef="let element">
          <mat-icon class="action-icon" (click)="showDetails(element.projectId)">open_in_new</mat-icon>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <div class="paginator-container">
      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
      </mat-paginator>
    </div>


  </div>
  <!-- </div>
    </div>
  </div>-->
</div>