<div class="container-fluid">
    <br>
    <h2>详细的每日报告</h2>
    <br>
    <form [formGroup]="form" class="form-inline">
        <mat-form-field appearance="outline" class="form-input">
            <mat-label>选择日期</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <button (click)="search()" [disabled]="isLoading" class="btn btn-primary">{{'search'|translate}}</button>
    </form>

    <div class="mat-elevation-z8">
        <!-- <mat-spinner *ngIf="isLoading" class="loader"></mat-spinner> -->
        <div class="text-center" *ngIf="isLoading">
            <div class="spinner-border" role="status">
                <!-- <span class="sr-only">Loading...</span> -->
            </div>
        </div>

        <table mat-table [dataSource]="dataSource" *ngIf="!isLoading">
            <ng-container matColumnDef="reporterName">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name">
                    {{'reporterName' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.reporterName}} </td>
            </ng-container>

            <ng-container matColumnDef="projectName">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name2">
                    {{'projectName' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
            </ng-container>

            <ng-container matColumnDef="requester">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name">
                    {{'requester' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.requester}} </td>
            </ng-container>
            <ng-container matColumnDef="address">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name3">
                    {{'address' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.address}} </td>
            </ng-container>
            <ng-container matColumnDef="contractor">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name">
                    {{'contractor' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.contractor}} </td>
            </ng-container>

            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name4">
                    {{'category' | translate}}</th>
                <td mat-cell *matCellDef="let element"> {{element.categoryName}} </td>
            </ng-container>


            <ng-container matColumnDef="implement">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name5">
                    {{'implement' | translate}} </th>
                <td mat-cell *matCellDef="let element"> {{ element.implement}} </td>
            </ng-container>

            <ng-container matColumnDef="createdAt">
                <th mat-header-cell *matHeaderCellDef [style.background-color]="color" class="mat-column-name4">
                    {{'createdAt' | translate}} </th>
                <td mat-cell *matCellDef="let element"> {{this.convertToCustomFormat( element.createdAt)}} </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <div class="paginator-container">
            <mat-paginator [pageSizeOptions]="[10, 20,50]" showFirstLastButtons
                aria-label="Select page of periodic elements">
            </mat-paginator>
        </div>



    </div>
</div>